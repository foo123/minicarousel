/**
* minicarousel
* Optimized responsive Carousel for Desktop and Mobile
* @VERSION: 1.1.1
* https://github.com/foo123/minicarousel
*/
!function(e){"use strict";var h=Math,u=Array.prototype.forEach,f=Object.prototype.hasOwnProperty,n=/^\s+|\s+$/g,p=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(n,"")};function r(){if(null==r.passiveSupported){var e={};try{Object.defineProperty(e,"passive",{get:function(){return!(r.passiveSupported=!0)}}),window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){r.passiveSupported=!1}}return r.passiveSupported}function m(e,n,t,i){e.attachEvent?e.attachEvent("on"+n,t):e.addEventListener(n,t,r()?i:"object"==typeof i?!!i.capture:!!i)}function d(e,n,t,i){e.detachEvent?e.detachEvent("on"+n,t):e.removeEventListener(n,t,r()?i:"object"==typeof i?!!i.capture:!!i)}function g(e,n){return e.classList?e.classList.contains(n):-1!==(" "+e.className+" ").indexOf(" "+n+" ")}function y(e,n){e.classList?e.classList.add(n):-1===(" "+e.className+" ").indexOf(" "+n+" ")&&(e.className=""===e.className?n:e.className+" "+n)}function $(e,n,t){e.style.setProperty?e.style.setProperty(n,t):e.style[n]=t}function x(e){return("function"==typeof window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle)||{}}function w(e,n,t){return h.min(h.max(e,n),t)}function S(e){return e}function b(e){return e<.5?2*e*e:1-h.pow(2-2*e,2)/2}function L(e){return e<.5?4*e*e*e:1-h.pow(2-2*e,3)/2}function v(e,n,t,i,r){return r?n:e+(n-e)*i(t)}function P(i,e,r,l,a){if(!i)return function(){};var o,s,c,u={},p={},m=null,d=!1;for(o in l=l||S,e)if(f.call(e,o))if("style"===o)for(s in u.style={},e.style)f.call(e.style,s)&&(u.style[s]=[parseFloat(i.style[s])||0,parseFloat(e.style[s])||0],i.style[s]?p[s]="%"===i.style[s].slice(-1)?"%":-1!==["px","em","rem","pt","vw","vh"].indexOf(i.style[s].slice(-2))?i.style[s].slice(-2):"":p[s]="");else u[o]=[+i[o]||0,+e[o]||0];return function e(n){var t=!1;for(o in null==m&&(m=n),t=d||r<=0?(c=1,!0):(c=w((n-m)/r,0,1),r+m<=n),u)if(f.call(u,o))if("style"===o)for(s in u.style)f.call(u.style,s)&&$(i,s,String(v(u.style[s][0],u.style[s][1],c,l,t))+p[s]);else i[o]=v(u[o][0],u[o][1],c,l,t);t?a&&a(i):requestAnimationFrame(e)}(),function(){d=!0}}function E(e,n){return n=n||x(e),h.max(1,parseFloat(n.getPropertyValue("--visible-items"))||0)}function N(e,n){n=n||x(e);e=h.round(E(e,n)),n=h.max(0,parseFloat(n.getPropertyValue("--scroll-by"))||0);return h.min(n=n<=0?e:n,e)}function O(e,n){n=n||x(e);var t,i=h.round(N(e,n));return i*((t=e)&&t.children[0].children[0].children.length?t.children[0].children[0].children[0].offsetWidth:0)+i*(t=e,i=(i=n)||x(t),h.max(0,parseInt(i.getPropertyValue("--gap"))||0))}function V(e,n){return(n=n||x(e)).getPropertyValue("--auto-scroll")}function F(e,n){n=n||x(e),$(e,"--_egapnz",0<(parseFloat(n.getPropertyValue("--extra-gap"))||0)?1:0)}function k(e,n){if(e&&e.children[0]&&g(e.children[0],"minicarousel-viewport")){n=n<0?-1:1;var t,i,r,l,a,o=x(e),s=e.children[0],c=(s.children[0],e.$minicarousel.index),u=(m=e)?m.children[0].children[0].children:[],p=u.length,m=h.round(E(e,o)),d=h.round(N(e,o)),f=(y=e,(y=(v=(v=o)||x(y)).getPropertyValue("--easing"))&&y.length&&(y=y.slice(1,-1).toLowerCase()),{duration:h.max(0,parseFloat(v.getPropertyValue("--animation"))||0),easing:"cubic"===y?L:"quadratic"===y?b:S,constantSpeed:!parseFloat(v.getPropertyValue("--constant-animation")),withInertia:!!parseFloat(v.getPropertyValue("--inertia-animation"))}),y=O(e,o),v=s.scrollLeft||0,o=s.scrollWidth-s.clientWidth-v,v=h.max(0,v+(n<0?v<y?-v:-y:o<y?o:y));if(e.$minicarousel.stop&&e.$minicarousel.stop(),e.$minicarousel.index=p?n<0?h.max(0,c-d):h.min(c+d,h.max(0,p-m)):0,0<(l=h.abs(e.$minicarousel.index-c))&&l<d&&f.constantSpeed&&(f.duration*=l/d),i=w(c,0,p-1),r=w(c+m-1,0,p-1),a=f.duration/2,f.withInertia)if(n<0)for(t=i;t<=r;++t)l=w(100*(r-t),0,a),0<=t&&t<p&&$(u[t],"animation","minicarousel-animation-rev "+String(f.duration-l)+"ms ease "+String(l)+"ms");else for(t=r;i<=t;--t)l=w(100*(t-i),0,a),0<=t&&t<p&&$(u[t],"animation","minicarousel-animation "+String(f.duration-l)+"ms ease "+String(l)+"ms");e.$minicarousel.stop=P(s,{scrollLeft:v},f.duration,f.easing,function(){if(f.withInertia)for(p=u.length,t=i;t<=r;++t)0<=t&&t<p&&(e=u[t],n="animation",e.style.removeProperty?e.style.removeProperty(n):e.style[n]="");var e,n})}var y,v,m}function C(t){var i,n,e,r,l,a,o,s,c=this;if(!(c instanceof C))return new C(t);i=function(e){var n=e.target.closest("a");n&&(g(n,"minicarousel-prev-bt")?(e.preventDefault&&e.preventDefault(),k(n.parentNode,-1)):g(n,"minicarousel-next-bt")&&(e.preventDefault&&e.preventDefault(),k(n.parentNode,1)))},n=function(e){var n,t;e.$minicarousel&&(n=V(e,t=x(e)),F(e,t),e.$minicarousel.autoScroll!==n?(e.$minicarousel.autoScroll=n,e.$minicarousel.index=0,e.children[0]&&(e.children[0].scrollLeft=0)):"hidden"===n?(n=h.round(N(e,t)),t=O(e,t),e.children[0].scrollLeft=h.floor(e.$minicarousel.index/n)*t):e.$minicarousel.index=0)},a=function(){u.call(t,n)},o=200,s=null,e=function(){var e=this,n=arguments;clearTimeout(s),s=setTimeout(function(){a.apply(e,n)},o)},r=function(e){var n,t;(n=e.querySelector(".minicarousel-prev-bt"))&&e===n.parentNode?(n.$minicarousel&&d(n,"click",n.$minicarousel,{passive:!1,capture:!1}),m(n,"click",n.$minicarousel=i,{passive:!1,capture:!1})):((n=document.createElement("a")).href="#",y(n,"minicarousel-prev-bt"),m(n,"click",n.$minicarousel=i,{passive:!1,capture:!1}),e.appendChild(n)),(t=e.querySelector(".minicarousel-next-bt"))&&e===t.parentNode?(t.$minicarousel&&d(n,"click",t.$minicarousel,{passive:!1,capture:!1}),m(t,"click",t.$minicarousel=i,{passive:!1,capture:!1})):((t=document.createElement("a")).href="#",y(t,"minicarousel-next-bt"),m(t,"click",t.$minicarousel=i,{passive:!1,capture:!1}),e.appendChild(t)),e.children[0]&&(e.children[0].scrollLeft=0),y(e,"minicarousel-js"),F(e),e.$minicarousel={stop:null,index:0,autoScroll:V(e)}},l=function(e){var n=e.querySelector(".minicarousel-prev-bt"),t=e.querySelector(".minicarousel-next-bt");n&&e===n.parentNode&&(e.removeChild(n),n.$minicarousel&&d(n,"click",n.$minicarousel,{passive:!1,capture:!1}),n.$minicarousel=null),t&&e===t.parentNode&&(e.removeChild(t),t.$minicarousel&&d(t,"click",t.$minicarousel,{passive:!1,capture:!1}),t.$minicarousel=null),n="minicarousel-js",(t=e).classList?t.classList.remove(n):t.className=p((" "+t.className+" ").replace(" "+n+" "," ")),e.$minicarousel=null},c.dispose=function(){d(window,"resize",e),u.call(t,l),t=[]},c.add=function(e){return-1===t.indexOf(e)&&(r(e),t.push(e)),c},c.remove=function(e){var n;return-1!==(n=t.indexOf(e))&&(t.splice(n,1),l(e)),c},c.update=function(e){return-1!==t.indexOf(e)&&n(e),c},c.goTo=function(e,n){return-1!==t.indexOf(e)&&k(e,(+n||0)<0?-1:1),c},t=Array.prototype.slice.call(t||[]),u.call(t,r),m(window,"resize",e)}C.prototype={constructor:C,dispose:null,add:null,remove:null,update:null,goTo:null},C.VERSION="1.1.1",e.Element&&(e.Element.prototype.$minicarousel=null),e.minicarousel=C}("undefined"!=typeof self?self:window);