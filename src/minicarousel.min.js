/**
* minicarousel
* Optimized responsive Carousel for Desktop and Mobile
* @VERSION: 1.1.0
* https://github.com/foo123/minicarousel
*/
!function(e){"use strict";var y=Math,u=Array.prototype.forEach,m=Object.prototype.hasOwnProperty,n=/^\s+|\s+$/g,p=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(n,"")};function r(){if(null==r.passiveSupported){var e={};try{Object.defineProperty(e,"passive",{get:function(){return!(r.passiveSupported=!0)}}),window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){r.passiveSupported=!1}}return r.passiveSupported}function d(e,n,t,i){e.attachEvent?e.attachEvent("on"+n,t):e.addEventListener(n,t,r()?i:"object"==typeof i?!!i.capture:!!i)}function f(e,n,t,i){e.detachEvent?e.detachEvent("on"+n,t):e.removeEventListener(n,t,r()?i:"object"==typeof i?!!i.capture:!!i)}function h(e,n){return e.classList?e.classList.contains(n):-1!==(" "+e.className+" ").indexOf(" "+n+" ")}function v(e,n){e.classList?e.classList.add(n):-1===(" "+e.className+" ").indexOf(" "+n+" ")&&(e.className=""===e.className?n:e.className+" "+n)}function g(e,n,t){e.style.setProperty?e.style.setProperty(n,t):e.style[n]=t}function $(e){return("function"==typeof window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle)||{}}function x(e,n,t){return y.min(y.max(e,n),t)}function S(e){return e}function w(e){return e<.5?2*e*e:1-y.pow(2-2*e,2)/2}function b(e){return e<.5?4*e*e*e:1-y.pow(2-2*e,3)/2}function L(e,n,t,i,r){return r?n:e+(n-e)*i(t)}function E(t,e,n,i,r,l){if(!t)return function(){};var o,a,c,s=0,u={},p={},d=!1;for(a in r=r||S,e)if(m.call(e,a))if("style"===a)for(c in u.style={},e.style)m.call(e.style,c)&&(u.style[c]=[parseFloat(t.style[c])||0,parseFloat(e.style[c])||0],t.style[c]?p[c]="%"===t.style[c].slice(-1)?"%":-1!==["px","em","rem","pt","vw","vh"].indexOf(t.style[c].slice(-2))?t.style[c].slice(-2):"":p[c]="");else u[a]=[+t[a]||0,+e[a]||0];return function e(){d||i<=0?(o=1,s=50):(o=s/49,++s);var n=49<s;for(a in u)if(m.call(u,a))if("style"===a)for(c in u.style)m.call(u.style,c)&&g(t,c,String(L(u.style[c][0],u.style[c][1],o,r,n))+p[c]);else t[a]=L(u[a][0],u[a][1],o,r,n);s<=49?setTimeout(e,i/50):l&&l(t)}(),function(){d=!0}}function N(e,n){return n=n||$(e),y.max(1,parseFloat(n.getPropertyValue("--visible-items"))||0)}function P(e,n){n=n||$(e);e=y.round(N(e,n)),n=y.max(0,parseFloat(n.getPropertyValue("--scroll-by"))||0);return y.min(n=n<=0?e:n,e)}function O(e,n){n=n||$(e);var t,i=y.round(P(e,n));return i*((t=e)&&t.children[0].children[0].children.length?t.children[0].children[0].children[0].offsetWidth:0)+i*(t=e,i=(i=n)||$(t),y.max(0,parseInt(i.getPropertyValue("--gap"))||0))}function V(e,n){return(n=n||$(e)).getPropertyValue("--auto-scroll")}function k(e,n){n=n||$(e),g(e,"--_egapnz",0<(parseFloat(n.getPropertyValue("--extra-gap"))||0)?1:0)}function C(e,n){if(e&&e.children[0]&&h(e.children[0],"minicarousel-viewport")){n=n<0?-1:1;var t,i,r,l,o,a=$(e),c=e.$minicarousel.index,s=(p=e)?p.children[0].children[0].children:[],u=s.length,p=y.round(N(e,a)),d=y.round(P(e,a)),m=(f=e,(f=(v=(v=a)||$(f)).getPropertyValue("--easing"))&&f.length&&(f=f.slice(1,-1).toLowerCase()),{duration:y.max(0,parseFloat(v.getPropertyValue("--animation"))||0),easing:"cubic"===f?b:"quadratic"===f?w:S,constantSpeed:!parseFloat(v.getPropertyValue("--constant-animation"))}),f=O(e,a),v=e.children[0].scrollLeft||0,a=e.children[0].scrollWidth-e.children[0].clientWidth-v,a=n<0?v<f?-v:-f:a<f?a:f,f=y.max(0,v+a);if(e.$minicarousel.stop&&e.$minicarousel.stop(),e.$minicarousel.index=u?n<0?y.max(0,c-d):y.min(c+d,y.max(0,u-p)):0,0<(l=y.abs(e.$minicarousel.index-c))&&l<d&&m.constantSpeed&&(m.duration*=l/d),i=x(c,0,u-1),r=x(c+p-1,0,u-1),o=m.duration/2,n<0)for(t=i;t<=r;++t)l=x(100*(r-t),0,o),0<=t&&t<u&&g(s[t],"animation","minicarousel-animation-rev "+String(m.duration-l)+"ms ease "+String(l)+"ms");else for(t=r;i<=t;--t)l=x(100*(t-i),0,o),0<=t&&t<u&&g(s[t],"animation","minicarousel-animation "+String(m.duration-l)+"ms ease "+String(l)+"ms");e.$minicarousel.stop=E(e.children[0],{scrollLeft:f},y.abs(a),m.duration,m.easing,function(){for(u=s.length,t=i;t<=r;++t)0<=t&&t<u&&(e=s[t],n="animation",e.style.removeProperty?e.style.removeProperty(n):e.style[n]="");var e,n})}var f,v,p}function F(t){var i,n,e,r,l,o,a,c,s=this;if(!(s instanceof F))return new F(t);i=function(e){var n=e.target.closest("a");n&&(h(n,"minicarousel-prev-bt")?(e.preventDefault&&e.preventDefault(),C(n.parentNode,-1)):h(n,"minicarousel-next-bt")&&(e.preventDefault&&e.preventDefault(),C(n.parentNode,1)))},n=function(e){var n,t;e.$minicarousel&&(n=V(e,t=$(e)),k(e,t),e.$minicarousel.autoScroll!==n?(e.$minicarousel.autoScroll=n,e.$minicarousel.index=0,e.children[0]&&(e.children[0].scrollLeft=0)):"hidden"===n?(n=y.round(P(e,t)),t=O(e,t),e.children[0].scrollLeft=y.floor(e.$minicarousel.index/n)*t):e.$minicarousel.index=0)},o=function(){u.call(t,n)},a=200,c=null,e=function(){var e=this,n=arguments;clearTimeout(c),c=setTimeout(function(){o.apply(e,n)},a)},r=function(e){var n,t;(n=e.querySelector(".minicarousel-prev-bt"))&&e===n.parentNode?(n.$minicarousel&&f(n,"click",n.$minicarousel,{passive:!1,capture:!1}),d(n,"click",n.$minicarousel=i,{passive:!1,capture:!1})):((n=document.createElement("a")).href="#",v(n,"minicarousel-prev-bt"),d(n,"click",n.$minicarousel=i,{passive:!1,capture:!1}),e.appendChild(n)),(t=e.querySelector(".minicarousel-next-bt"))&&e===t.parentNode?(t.$minicarousel&&f(n,"click",t.$minicarousel,{passive:!1,capture:!1}),d(t,"click",t.$minicarousel=i,{passive:!1,capture:!1})):((t=document.createElement("a")).href="#",v(t,"minicarousel-next-bt"),d(t,"click",t.$minicarousel=i,{passive:!1,capture:!1}),e.appendChild(t)),e.children[0]&&(e.children[0].scrollLeft=0),v(e,"minicarousel-js"),k(e),e.$minicarousel={stop:null,index:0,autoScroll:V(e)}},l=function(e){var n=e.querySelector(".minicarousel-prev-bt"),t=e.querySelector(".minicarousel-next-bt");n&&e===n.parentNode&&(e.removeChild(n),n.$minicarousel&&f(n,"click",n.$minicarousel,{passive:!1,capture:!1}),n.$minicarousel=null),t&&e===t.parentNode&&(e.removeChild(t),t.$minicarousel&&f(t,"click",t.$minicarousel,{passive:!1,capture:!1}),t.$minicarousel=null),n="minicarousel-js",(t=e).classList?t.classList.remove(n):t.className=p((" "+t.className+" ").replace(" "+n+" "," ")),e.$minicarousel=null},s.dispose=function(){f(window,"resize",e),u.call(t,l),t=[]},s.add=function(e){return-1===t.indexOf(e)&&(r(e),t.push(e)),s},s.remove=function(e){var n;return-1!==(n=t.indexOf(e))&&(t.splice(n,1),l(e)),s},s.update=function(e){return-1!==t.indexOf(e)&&n(e),s},s.goTo=function(e,n){return-1!==t.indexOf(e)&&C(e,(+n||0)<0?-1:1),s},t=Array.prototype.slice.call(t||[]),u.call(t,r),d(window,"resize",e)}F.prototype={constructor:F,dispose:null,add:null,remove:null,update:null,goTo:null},F.VERSION="1.1.0",e.Element&&(e.Element.prototype.$minicarousel=null),e.minicarousel=F}("undefined"!=typeof self?self:window);