/**
* minicarousel
* Optimized responsive Carousel for Desktop and Mobile
* @VERSION: 1.0.0
* https://github.com/foo123/minicarousel
*/
!function(e){"use strict";var f=Math,c=Array.prototype.forEach,d=Object.prototype.hasOwnProperty,n=/^\s+|\s+$/g,i=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(n,"")};function r(){if(null==r.passiveSupported){var e={};try{Object.defineProperty(e,"passive",{get:function(){return!(r.passiveSupported=!0)}}),window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){r.passiveSupported=!1}}return r.passiveSupported}function u(e,n,i,t){e.attachEvent?e.attachEvent("on"+n,i):e.addEventListener(n,i,r()?t:"object"==typeof t?!!t.capture:!!t)}function p(e,n,i,t){e.detachEvent?e.detachEvent("on"+n,i):e.removeEventListener(n,i,r()?t:"object"==typeof t?!!t.capture:!!t)}function v(e,n){return e.classList?e.classList.contains(n):-1!==(" "+e.className+" ").indexOf(" "+n+" ")}function m(e,n){e.classList?e.classList.add(n):-1===(" "+e.className+" ").indexOf(" "+n+" ")&&(e.className=""===e.className?n:e.className+" "+n)}function y(e,n){e.classList?e.classList.remove(n):e.className=i((" "+e.className+" ").replace(" "+n+" "," "))}function h(e,n,i){e.style.setProperty?e.style.setProperty(n,i):e.style[n]=i}function $(e){return("function"==typeof window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle)||{}}function x(e,n,i){return f.min(f.max(e,n),i)}function g(e){return e}function w(e){return e<.5?2*e*e:1-f.pow(2-2*e,2)/2}function S(e){return e<.5?4*e*e*e:1-f.pow(2-2*e,3)/2}function b(e,n,i,t,r){return r?n:e+(n-e)*t(i)}function L(i,e,n,t,r,a){if(!i)return function(){};var l,o,s,c=0,u={},p={},m=!1;for(o in r=r||g,e)if(d.call(e,o))if("style"===o)for(s in u.style={},e.style)d.call(e.style,s)&&(u.style[s]=[parseFloat(i.style[s])||0,parseFloat(e.style[s])||0],i.style[s]?p[s]="%"===i.style[s].slice(-1)?"%":-1!==["px","em","rem","pt","vw","vh"].indexOf(i.style[s].slice(-2))?i.style[s].slice(-2):"":p[s]="");else u[o]=[+i[o]||0,+e[o]||0];return function e(){m||t<=0?(l=1,c=50):(l=c/49,++c);var n=49<c;for(o in u)if(d.call(u,o))if("style"===o)for(s in u.style)d.call(u.style,s)&&h(i,s,String(b(u.style[s][0],u.style[s][1],l,r,n))+p[s]);else i[o]=b(u[o][0],u[o][1],l,r,n);c<=49?setTimeout(e,t/50):a&&a(i)}(),function(){m=!0}}function E(e,n){return n=n||$(e),f.max(1,parseFloat(n.getPropertyValue("--visible-items"))||0)}function N(e){return e&&e.children[0].clientWidth||0}function P(e,n){return n=n||$(e),f.max(0,parseInt(n.getPropertyValue("--gap"))||0)}function O(e,n){if(e&&e.children[0]&&v(e.children[0],"minicarousel-viewport")){n=n<0?-1:1;var i,t,r,a,l=$(e),o=e.$minicarousel.index,s=(u=e)?u.children[0].children[0].children:[],c=s.length,u=f.round(E(e,l)),p=(d=e,(d=(m=(m=l)||$(d)).getPropertyValue("--easing"))&&d.length&&(d=d.slice(1,-1).toLowerCase()),{duration:f.max(0,parseFloat(m.getPropertyValue("--animation"))||0),easing:"cubic"===d?S:"quadratic"===d?w:g}),m=N(e)+P(e,l),d=e.children[0].scrollLeft||0,l=n<0?u<=o?-m:-d:o+u<c?m:e.children[0].scrollWidth-e.children[0].clientWidth-d,m=f.max(0,d+l);if(e.$minicarousel.stop&&e.$minicarousel.stop(),e.$minicarousel.index=c?n<0?u<=o?o-u:0:o+u<c?o+u:f.max(0,c-u):0,o!==e.$minicarousel.index){if(f.abs(e.$minicarousel.index-o)!==u&&(p.duration*=f.abs(e.$minicarousel.index-o)/u),t=x(o,0,c-1),r=x(o+u-1,0,c-1),n<0)for(i=t;i<=r;++i)a=x(100*(r-i),0,p.duration/2),0<=i&&i<c&&h(s[i],"animation","minicarousel-animation-rev "+String(p.duration-a)+"ms ease "+String(a)+"ms");else for(i=r;t<=i;--i)a=x(100*(i-t),0,p.duration/2),0<=i&&i<c&&h(s[i],"animation","minicarousel-animation "+String(p.duration-a)+"ms ease "+String(a)+"ms");e.$minicarousel.stop=L(e.children[0],{scrollLeft:m},f.abs(l),p.duration,p.easing,function(){for(c=s.length,i=t;i<=r;++i)0<=i&&i<c&&(e=s[i],n="animation",e.style.removeProperty?e.style.removeProperty(n):e.style[n]="",v(s[i],"minicarousel-animated")&&y(s[i],"minicarousel-animated"),v(s[i],"minicarousel-animated-rev"))&&y(s[i],"minicarousel-animated-rev");var e,n})}}var d,m,u}function k(i){var t,e,n,r,a,l,o,s=this;if(!(s instanceof k))return new k(i);t=function(e){var n=e.target.closest("a");n&&(v(n,"minicarousel-prev-bt")?(e.preventDefault&&e.preventDefault(),O(n.parentNode,-1)):v(n,"minicarousel-next-bt")&&(e.preventDefault&&e.preventDefault(),O(n.parentNode,1)))},a=function(){c.call(i,function(e){var n,i;e.$minicarousel&&("hidden"!==(n=e,(i=i||$(n)).getPropertyValue("--auto-scroll"))?e.$minicarousel.index=0:(n=$(e),i=f.round(E(e,n)),n=N(e)+P(e,n),e.children[0].scrollLeft=f.floor(e.$minicarousel.index/i)*n))})},l=200,o=null,e=function(){var e=this,n=arguments;clearTimeout(o),o=setTimeout(function(){a.apply(e,n)},l)},n=function(e){var n,i;(n=e.querySelector(".minicarousel-prev-bt"))&&e===n.parentNode?(n.$minicarousel&&p(n,"click",n.$minicarousel,{passive:!1,capture:!1}),u(n,"click",n.$minicarousel=t,{passive:!1,capture:!1})):((n=document.createElement("a")).href="#",m(n,"minicarousel-prev-bt"),u(n,"click",n.$minicarousel=t,{passive:!1,capture:!1}),e.appendChild(n)),(i=e.querySelector(".minicarousel-next-bt"))&&e===i.parentNode?(i.$minicarousel&&p(n,"click",i.$minicarousel,{passive:!1,capture:!1}),u(i,"click",i.$minicarousel=t,{passive:!1,capture:!1})):((i=document.createElement("a")).href="#",m(i,"minicarousel-next-bt"),u(i,"click",i.$minicarousel=t,{passive:!1,capture:!1}),e.appendChild(i)),e.children[0]&&(e.children[0].scrollLeft=0),e.$minicarousel={stop:null,index:0},m(e,"minicarousel-js")},r=function(e){var n=e.querySelector(".minicarousel-prev-bt"),i=e.querySelector(".minicarousel-next-bt");n&&e===n.parentNode&&(e.removeChild(n),n.$minicarousel&&p(n,"click",n.$minicarousel,{passive:!1,capture:!1}),n.$minicarousel=null),i&&e===i.parentNode&&(e.removeChild(i),i.$minicarousel&&p(i,"click",i.$minicarousel,{passive:!1,capture:!1}),i.$minicarousel=null),y(e,"minicarousel-js"),e.$minicarousel=null},s.dispose=function(){p(window,"resize",e),c.call(i,r),i=[]},s.add=function(e){return-1===i.indexOf(e)&&(n(e),i.push(e)),s},s.remove=function(e){var n;return-1!==(n=i.indexOf(e))&&(i.splice(n,1),r(e)),s},i=Array.prototype.slice.call(i||[]),c.call(i,n),u(window,"resize",e)}k.prototype={constructor:k,dispose:null,add:null,remove:null},k.VERSION="1.0.0",e.Element&&(e.Element.prototype.$minicarousel=null),e.minicarousel=k}("undefined"!=typeof self?self:window);