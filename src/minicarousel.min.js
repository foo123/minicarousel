/**
* minicarousel
* Optimized responsive Carousel for Desktop and Mobile
* @VERSION: 1.2.0
* https://github.com/foo123/minicarousel
*/
!function(e){"use strict";var g=Math,p=Array.prototype.forEach,f=Object.prototype.hasOwnProperty,n=/^\s+|\s+$/g,d=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(n,"")};function r(){if(null==r.passiveSupported){var e={};try{Object.defineProperty(e,"passive",{get:function(){return!(r.passiveSupported=!0)}}),window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){r.passiveSupported=!1}}return r.passiveSupported}function m(e,n,t,i){e.attachEvent?e.attachEvent("on"+n,t):e.addEventListener(n,t,r()?i:"object"==typeof i?!!i.capture:!!i)}function v(e,n,t,i){e.detachEvent?e.detachEvent("on"+n,t):e.removeEventListener(n,t,r()?i:"object"==typeof i?!!i.capture:!!i)}function x(e,n){return e.classList?e.classList.contains(n):-1!==(" "+e.className+" ").indexOf(" "+n+" ")}function y(e,n){e.classList?e.classList.add(n):-1===(" "+e.className+" ").indexOf(" "+n+" ")&&(e.className=""===e.className?n:e.className+" "+n)}function $(e,n,t){e.style.setProperty?e.style.setProperty(n,t):e.style[n]=t}function w(e){return("function"==typeof window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle)||{}}function S(e,n,t){return g.min(g.max(e,n),t)}function b(e){return e}function L(e){return e<.5?2*e*e:1-g.pow(2-2*e,2)/2}function N(e){return e<.5?4*e*e*e:1-g.pow(2-2*e,3)/2}function h(e,n,t,i,r){return r?n:e+(n-e)*i(t)}function E(i,e,r,l,a){if(!i)return function(){};var o,s,c,u={},p={},d=null,m=!1;for(o in l=l||b,e)if(f.call(e,o))if("style"===o)for(s in u.style={},e.style)f.call(e.style,s)&&(u.style[s]=[parseFloat(i.style[s])||0,parseFloat(e.style[s])||0],i.style[s]?p[s]="%"===i.style[s].slice(-1)?"%":-1!==["px","em","rem","pt","vw","vh"].indexOf(i.style[s].slice(-2))?i.style[s].slice(-2):"":p[s]="");else u[o]=[+i[o]||0,+e[o]||0];return function e(n){var t=!1;for(o in null==d&&(d=n),t=m||r<=0?(c=1,!0):(c=S((n-d)/r,0,1),r+d<=n),u)if(f.call(u,o))if("style"===o)for(s in u.style)f.call(u.style,s)&&$(i,s,String(h(u.style[s][0],u.style[s][1],c,l,t))+p[s]);else i[o]=h(u[o][0],u[o][1],c,l,t);t?a&&a(i):requestAnimationFrame(e)}(),function(){m=!0}}function P(e,n){return n=n||w(e),g.max(1,parseFloat(n.getPropertyValue("--visible-items"))||0)}function O(e,n){n=n||w(e);e=g.round(P(e,n)),n=g.max(0,parseFloat(n.getPropertyValue("--scroll-by"))||0);return g.min(n=n<=0?e:n,e)}function F(e,n){n=i(e)+l(e,n),e=e.children[0].scrollLeft||0;return{index:g.round(e/n),size:n,scroll:e}}function V(e,n){n=n||w(e);var t=g.round(O(e,n));return t*i(e)+t*l(e,n)}function i(e){return e&&e.children[0].children[0].children.length?e.children[0].children[0].children[0].offsetWidth:0}function l(e,n){return n=n||w(e),g.max(0,parseInt(n.getPropertyValue("--gap"))||0)}function k(e,n){n=n||w(e),$(e,"--_egapnz",0<(parseFloat(n.getPropertyValue("--extra-gap"))||0)?1:0)}function C(e,n){if(e&&e.children[0]&&x(e.children[0],"minicarousel-viewport")){n=n<0?-1:1;var t,i,r,l,a,o=w(e),s=e.children[0],c=(s.children[0],F(e,o)),u=(d=e)?d.children[0].children[0].children:[],p=u.length,d=g.round(P(e,o)),m=g.round(O(e,o)),f=(v=e,(v=(y=(y=o)||w(v)).getPropertyValue("--easing"))&&v.length&&(v=v.slice(1,-1).toLowerCase()),{duration:g.max(0,parseFloat(y.getPropertyValue("--animation"))||0),easing:"cubic"===v?N:"quadratic"===v?L:b,constantSpeed:!parseFloat(y.getPropertyValue("--constant-animation")),withInertia:!!parseFloat(y.getPropertyValue("--inertia-animation"))}),v=c.size,y=c.index,c=c.scroll,v=y*v-c,h=s.scrollWidth-s.clientWidth-c,o=V(e,o)+(n<0?-v:v),v=g.max(0,c+(n<0?c<o?-c:-o:h<o?h:o));if(e.$minicarousel.stop&&e.$minicarousel.stop(),e.$minicarousel.index=c=p?n<0?g.max(0,y-m):g.min(y+m,g.max(0,p-d)):0,0<(l=g.abs(c-y))&&l<m&&f.constantSpeed&&(f.duration*=l/m),i=S(y,0,p-1),r=S(y+d-1,0,p-1),a=f.duration/2,f.withInertia)if(n<0)for(t=i;t<=r;++t)l=S(100*(r-t),0,a),0<=t&&t<p&&$(u[t],"animation","minicarousel-animation-rev "+String(f.duration-l)+"ms ease "+String(l)+"ms");else for(t=r;i<=t;--t)l=S(100*(t-i),0,a),0<=t&&t<p&&$(u[t],"animation","minicarousel-animation "+String(f.duration-l)+"ms ease "+String(l)+"ms");e.$minicarousel.stop=E(s,{scrollLeft:v},f.duration,f.easing,function(){if(f.withInertia)for(p=u.length,t=i;t<=r;++t)0<=t&&t<p&&(e=u[t],n="animation",e.style.removeProperty?e.style.removeProperty(n):e.style[n]="");var e,n})}var v,y,d}function j(t){var i,r,n,e,l,a,o,s,c,u=this;if(!(u instanceof j))return new j(t);i=function(e){var n=e.target.closest("a");n&&(x(n,"minicarousel-prev-bt")?(e.preventDefault&&e.preventDefault(),C(n.parentNode,-1)):x(n,"minicarousel-next-bt")&&(e.preventDefault&&e.preventDefault(),C(n.parentNode,1)))},r=function(e){e=e.target.parentNode;e.$minicarousel.index=F(e).index},n=function(e){var n,t,i,r;e.$minicarousel&&(n=w(e),t=e.$minicarousel.index,i=g.round(O(e,n)),r=V(e,n),k(e,n),e.children[0].scrollLeft=g.round(t/i)*r)},o=function(){p.call(t,n)},s=200,c=null,e=function(){var e=this,n=arguments;clearTimeout(c),c=setTimeout(function(){o.apply(e,n)},s)},l=function(e){var n,t;(n=e.querySelector(".minicarousel-prev-bt"))&&e===n.parentNode?(n.$minicarousel&&v(n,"click",n.$minicarousel,{passive:!1,capture:!1}),m(n,"click",n.$minicarousel=i,{passive:!1,capture:!1})):((n=document.createElement("a")).href="#",y(n,"minicarousel-prev-bt"),m(n,"click",n.$minicarousel=i,{passive:!1,capture:!1}),e.appendChild(n)),(t=e.querySelector(".minicarousel-next-bt"))&&e===t.parentNode?(t.$minicarousel&&v(n,"click",t.$minicarousel,{passive:!1,capture:!1}),m(t,"click",t.$minicarousel=i,{passive:!1,capture:!1})):((t=document.createElement("a")).href="#",y(t,"minicarousel-next-bt"),m(t,"click",t.$minicarousel=i,{passive:!1,capture:!1}),e.appendChild(t)),e.children[0]&&(e.children[0].scrollLeft=0),m(e.children[0],"scrollend",r,!1),y(e,"minicarousel-js"),k(e),e.$minicarousel={stop:null,index:0}},a=function(e){var n=e.querySelector(".minicarousel-prev-bt"),t=e.querySelector(".minicarousel-next-bt");n&&e===n.parentNode&&(e.removeChild(n),n.$minicarousel&&v(n,"click",n.$minicarousel,{passive:!1,capture:!1}),n.$minicarousel=null),t&&e===t.parentNode&&(e.removeChild(t),t.$minicarousel&&v(t,"click",t.$minicarousel,{passive:!1,capture:!1}),t.$minicarousel=null),v(e.children[0],"scrollend",r,!1),n="minicarousel-js",(t=e).classList?t.classList.remove(n):t.className=d((" "+t.className+" ").replace(" "+n+" "," ")),e.$minicarousel=null},u.dispose=function(){v(window,"resize",e),p.call(t,a),t=[]},u.add=function(e){return e&&-1===t.indexOf(e)&&(l(e),t.push(e)),u},u.remove=function(e){var n;return e&&-1!==(n=t.indexOf(e))&&(t.splice(n,1),a(e)),u},u.update=function(e){return(e=e||t[0])&&-1!==t.indexOf(e)&&n(e),u},u.goTo=function(e,n){return(e=e||t[0])&&-1!==t.indexOf(e)&&C(e,(+n||0)<0?-1:1),u},t=Array.prototype.slice.call(t||[]),p.call(t,l),m(window,"resize",e)}j.prototype={constructor:j,dispose:null,add:null,remove:null,update:null,goTo:null},j.VERSION="1.2.0",e.Element&&(e.Element.prototype.$minicarousel=null),e.minicarousel=j}("undefined"!=typeof self?self:window);